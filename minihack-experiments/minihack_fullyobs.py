import gym
import minihack
import numpy as np

#Generate a Room-15x15 task
env=gym.make(
    "MiniHack-Room-Random-15x15-v0",
    observation_keys=("chars", "colors", "specials", "pixel"),
)

 
obs = env.reset() #Generate a new environment and save the describtions arrays in obs
env.render() #Print the room 

#obs contains the "glyphs","chars",...,"pixel" arrays which describe the room
#See documentation for information on arrays

print('\n\n\n')

#initialize counters 
i=j=temp=0

#Find the indexes [x,y] from which to start extracting the submatrix
for x in range(len(obs['chars'][:,1])):
    for y in range(len(obs['chars'][1,:])):
        if temp==0 and int(obs['chars'][x][y]) != 32:
            i=x
            j=y
            temp=1 

#Define the submatrix (of int) that describes the room 
mat=obs['chars'][i:i+15, j:j+15]

'''
Print the matrix (of int) mat. Note that 
-the int 46 represent the empty floor
-the int 60 represent the staircase going up (start position)
-the int 62 represent the staircase going down (the goal)
-the int 64 represent the agent position
'''
print(mat)
print('\n\n\n')

'''
Print the matrix mat in ASCII characters. 
Note that the matrix is equal to the random room generated by MiniHack
'''
for x in range(len(mat[:,1])):
    for y in range(len(mat[1,:])):
        print(chr(mat[x][y]), end=' ') 
    print('\n')
